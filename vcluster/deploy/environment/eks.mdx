---
title: Deploy on EKS
sidebar_label: EKS
sidebar_position: 8
id: eks
description: Learn how to deploy vCluster on Amazon EKS, including storage provisioning with EBS CSI driver and IAM role configuration.
---

import BasePrerequisites from '../../../platform/_partials/install/base-prerequisites.mdx';
import Mark from "@site/src/components/Mark";
import InterpolatedCodeBlock from "@site/src/components/InterpolatedCodeBlock";

<!-- vale off -->
# Deploy vCluster on EKS

Deploying vCluster on  [Amazon EKS](https://aws.amazon.com/EKS/) requires configuring several crucial components, including storage provisioning and IAM roles. While EKS is a popular choice for running Kubernetes workloads, setting up vCluster requires additional configuration that may not be immediately apparent.

This guide provides a comprehensive walkthrough of the process for deploying vCluster on EKS, ensuring all necessary components are properly configured. It covers storage provisioning with the EBS CSI driver, IAM role configuration, and common pitfalls to avoid.

## Prerequisites

:::note
If you already have an EKS cluster set up, you can skip the cluster creation
steps and proceed to configuration steps
:::

### Base prerequisites

<BasePrerequisites />

### AWS prerequisites

- [AWS CLI](https://aws.amazon.com/cli/) version <Mark color="lightgreen">1.16.156</Mark> or greater
- [eksctl](https://eksctl.io/) installed for cluster management
:::note
[Upgrade](https://github.com/eksctl-io/eksctl?tab=readme-ov-file#installation) `eksctl` to the latest version to ensure latest Kubernetes version is
deployed.
:::
- AWS IAM permissions to create roles and policies

## Creating an EKS cluster

Start by creating a minimal EKS cluster using `eksctl`. Create a file named `cluster.yaml`:

<InterpolatedCodeBlock
  variables={{
    CLUSTER_NAME: "vcluster-demo",
    REGION: "us-west-1",
    INSTANCE_TYPE: "t3.medium"
  }}
  code={`CLUSTER_NAME=\${CLUSTER_NAME}
REGION=\${REGION}
INSTANCE_TYPE=\${INSTANCE_TYPE}

cat << EOF > cluster.yaml
apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig
metadata:
  name: \${CLUSTER_NAME}
  region: \${REGION}
nodeGroups:
  - name: ng-1
    instanceType: \${INSTANCE_TYPE}
    desiredCapacity: 2
    volumeSize: 80
EOF`}
/>
<!-- vale on -->
